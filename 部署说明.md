# 智能定投系统 - 拆分版部署说明

## 📁 文件结构

```
项目根目录/
├── index-new.html          # 入口文件（设备检测和重定向）
├── mobile.html             # 移动端页面
├── pc.html                 # PC端页面（待创建）
├── js/
│   ├── config.js          # 共享配置（Supabase等）
│   ├── shared.js          # 共享逻辑（数据处理、API调用）
│   ├── mobile.js          # 移动端专用JS
│   └── pc.js              # PC端专用JS（待创建）
├── css/
│   ├── mobile.css         # 移动端样式
│   └── pc.css             # PC端样式（待创建）
└── 部署说明.md            # 本文件
```

## 🚀 部署步骤

### 方法一：使用GitHub Desktop（推荐）

1. **安装GitHub Desktop**
   - 下载：https://desktop.github.com/
   - 安装并登录GitHub账号

2. **创建本地仓库**
   - 打开GitHub Desktop
   - File → New repository
   - Name: `fund-system`
   - Local path: 选择项目文件夹
   - 点击 `Create repository`

3. **添加文件**
   - 将所有文件复制到项目文件夹
   - GitHub Desktop会自动检测

4. **提交并发布**
   - Summary: 填写 `初始提交 - 拆分PC和移动端`
   - 点击 `Commit to main`
   - 点击 `Publish repository`
   - 确保勾选 `Public`
   - 点击 `Publish repository`

5. **启用GitHub Pages**
   - 在GitHub Desktop点击 `Repository` → `View on GitHub`
   - 进入仓库的 `Settings`
   - 左侧菜单找到 `Pages`
   - Source 选择：
     - Branch: `main`
     - Folder: `/ (root)`
   - 点击 `Save`
   - 等待1-2分钟

6. **访问网站**
   - 地址：`https://你的用户名.github.io/fund-system/`
   - 会自动根据设备跳转到对应页面

### 方法二：GitHub网页上传

1. **登录GitHub**
   - 访问 https://github.com

2. **创建新仓库**
   - 点击右上角 `+` → `New repository`
   - 仓库名：`fund-system`
   - 设置为 `Public`
   - 点击 `Create repository`

3. **上传文件**
   - 点击 `Add file` → `Upload files`
   - 拖拽所有文件和文件夹
   - 点击 `Commit changes`

4. **启用GitHub Pages**
   - 按照方法一的步骤5

## 📝 重要说明

### 1. 入口文件重命名

部署前需要将 `index-new.html` 重命名为 `index.html`：

```bash
# 在项目文件夹中
重命名: index-new.html → index.html
```

或者在GitHub Desktop中：
- 右键 `index-new.html`
- Rename
- 改为 `index.html`

### 2. PC端文件

当前只完成了移动端，PC端文件（pc.html）需要从原来的 index.html 提取。

临时方案：
- 将当前的 `index.html`（完整版）复制为 `pc.html`
- 这样PC端暂时使用完整版，移动端使用精简版

### 3. 文件路径

所有文件使用相对路径，确保：
- JS文件：`js/xxx.js`
- CSS文件：`css/xxx.css`
- 不要使用绝对路径（如 `/js/xxx.js`）

### 4. Supabase配置

已在 `js/config.js` 中配置，无需修改。

## 🔄 更新流程

使用GitHub Desktop更新：

1. 修改文件
2. GitHub Desktop会自动检测变化
3. 填写Summary描述
4. 点击 `Commit to main`
5. 点击 `Push origin`
6. 等待1-2分钟，GitHub Pages自动更新

## ✅ 测试清单

部署后测试：

- [ ] 访问主页，检查是否自动跳转
- [ ] 手机访问，确认跳转到 mobile.html
- [ ] 电脑访问，确认跳转到 pc.html
- [ ] 移动端：指数数据加载正常
- [ ] 移动端：持仓看板显示正常
- [ ] 移动端：用户ID管理功能正常
- [ ] 数据云端同步正常

## 🐛 常见问题

**Q: 页面显示404**
A: 检查GitHub Pages是否启用，等待几分钟

**Q: 样式不显示**
A: 检查CSS文件路径是否正确（相对路径）

**Q: JS报错**
A: 打开浏览器控制台（F12）查看具体错误

**Q: 数据不同步**
A: 检查Supabase配置是否正确

## 📞 需要帮助？

如有问题，检查：
1. 浏览器控制台（F12）的错误信息
2. GitHub Pages的部署状态
3. 文件路径是否正确
